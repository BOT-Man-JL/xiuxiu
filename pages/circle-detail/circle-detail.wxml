<!--circle-detail.wxml-->
<view class="circle-main-thum">
  <image class="circle-main-thum" mode="aspectFill" src="http://ixdc.org/wp-content/uploads/2014/06/14021367174351.jpg"></image>
  <view class="circle-name-container">
    <text class="circle-name">Ë•øÊ†ºÁéõÂ§ßÂé¶</text>
    <view class="center-layout">
      <image class="circle-name-favor" src="http://www.shejiye.com/uploadfile/icon/2017/0202/shejiyeiconfi01ms5pusz.png"></image>
    </view>
  </view>
  <text class="circle-info">1.4‰∏áÂÖ≥Ê≥®     1789Êñ∞È≤ú‰∫ã</text>

  <view class="body">
    <view class="nav bc_white">
      <view class="{{selected?'red':'default'}}" bindtap="selected">Á≤æÈÄâ</view>
      <view class="{{selected1?'red':'default'}}" bindtap="selected1">ÂπøÂú∫</view>
    </view>
    <view class="{{selected?'show':'hidden'}}">
      <view class="list-container {{ popupState ? '' : 'masking' }}">
        <view wx:for="{{ articleList }}" wx:key="id" class="list-item">
          <!--‰ΩúËÄÖÂ§¥ÂÉè-->
          <view class="avatar">
            <image src="{{ item.metaData.authorAvatar }}" bindtap="promptUnsupported" data-text="ÊöÇÊú™ÂºÄÊîæÊ≠§ÂäüËÉΩ üôÉ" mode="aspectFill" />
          </view>

          <!--Âè≥ËæπÁöÑÈÉ®ÂàÜ-->
          <view class="list-item-right">
            <!--Âè≥ËæπÁöÑÂèëÂ∏ÉËÄÖ‰ø°ÊÅØ-->
            <view class="list-item-header">
              <!--‰ΩúËÄÖÂêçÁß∞-->
              <view class="item-author-text">
                <text bindtap="promptUnsupported" data-text="ÊöÇÊú™ÂºÄÊîæÊ≠§ÂäüËÉΩ üôÉ">{{ item.metaData.authorName }}</text>
              </view>
              <!--Êó∂Èó¥Êà≥ + ‰ΩçÁΩÆ/ÂúàÂ≠ê-->
              <view class="list-item-detail">
                <text class="list-item-text">{{ item.metaData.timestamp }}</text>
                <view wx:if="{{ item.metaData.circle }}" class="location-container" bindtap="promptUnsupported" data-text="ÊöÇÊú™ÂºÄÊîæÊ≠§ÂäüËÉΩ üôÉ">
                  <image class="location-icon" src="/resources/home/circle-blue.png" />
                  <text class="list-item-text blue-text">{{ item.metaData.circle }}</text>
                </view>
                <view wx:else class="location-container">
                  <image class="location-icon" src="/resources/home/location-gray.png" />
                  <text class="list-item-text">{{ item.metaData.location }}</text>
                </view>
              </view>

              <!--Âè≥ËæπÂèëÂ∏ÉÁöÑÂÜÖÂÆπ-->
              <view class="list-item-data-container">
                <!-- ÊñáÊú¨ -->
                <view wx:if="{{ item.articleData.text }}" class="list-item-main-text">
                  <text>{{ item.articleData.text }}</text>
                </view>

                <!-- ÂõæÁâá -->
                <view wx:if="{{ item.articleType == 'picture' }}" class="large-image-item">
                  <image src="{{ item.articleData.picture.src }}" bindtap="viewBigImage" data-src="{{ item.articleData.picture.src }}" mode="widthFix" />
                </view>

                <!-- ÂõæÈõÜ -->
                <view wx:if="{{ item.articleType == 'pictures' }}" class="image-album">
                  <image wx:for="{{ item.articleData.pictures }}" wx:for-item="picture" wx:key="url" src="{{ picture.src }}" bindtap="viewBigImage" data-src="{{ picture.src }}" mode="aspectFill" />
                </view>

                <!-- ËßÜÈ¢ë -->
                <!-- <view wx:if="{{ item.articleType == 'video' }}" class="video-item">
            <video src="{{ item.articleData.video.src }}" poster="{{ item.articleData.video.poster }}" />
          </view> -->
                <view wx:if="{{ item.articleType == 'video' }}" class="large-image-item">
                  <image src="{{ item.articleData.video.poster }}" bindtap="promptUnsupported" data-text="Áî±‰∫éÂæÆ‰ø°ÈôêÂà∂ÔºåÊöÇ‰∏çÊîØÊåÅËßÜÈ¢ëÊí≠ÊîæÂäüËÉΩ üòî" mode="widthFix" />
                </view>

                <!-- Â§ñÈìæ -->
                <view wx:if="{{ item.articleType == 'link' }}" class="link-item" bindtap="promptUnsupported" data-text="Áî±‰∫éÂæÆ‰ø°ÈôêÂà∂ÔºåÊöÇ‰∏çÊîØÊåÅÊâìÂºÄÂ§ñÈìæÂäüËÉΩ üòî">
                  <image src="{{ item.articleData.link.thumb }}" mode="widthFix" />
                  <text>{{ item.articleData.link.abstractText }}</text>
                </view>
              </view>

              <!-- Â∫ïÈÉ®ÁöÑÊåâÈíÆ -->
              <view class="item-action">
                <view class="item-action-left">
                  <!-- Âä†ÁÅ´ -->
                  <view class="icon-with-text" bindtap="triggerFire" data-id="{{ item.id }}">
                    <image class="action-icon" src="{{ '/resources/home/fire-' + (item.communityData.hasFire ? 'red' : 'gray') + '.png' }}" />
                    <text class="action-text">{{ item.communityData.fireCount }}</text>
                  </view>
                  <!-- ËØÑËÆ∫ -->
                  <view class="icon-with-text" bindtap="promptUnsupported" data-text="ÊöÇÊú™ÂºÄÊîæÊ≠§ÂäüËÉΩ üôÉ">
                    <image class="action-icon" src="/resources/home/comment.png" />
                    <text class="action-text">{{ item.communityData.commentCount }}</text>
                  </view>
                </view>
                <!-- ÂàÜ‰∫´ -->
                <view class=".item-action-right">
                  <button class="share-button" open-type="share" data-id="{{ item.id }}">
                    <image class="share-icon" src="/resources/home/share.png" />
                  </button>
                </view>
              </view>
            </view>
          </view>
        </view>
      </view>

      <!--ÂõæÁâáÂºπÊ°Ü-->
      <view class="popup {{ popupState }}" bindtap="hidePopup">
        <view></view>
        <image wx:if="{{ bigImageSrc }}" src="{{ bigImageSrc }}" mode="widthFix" />
        <view></view>
      </view>
    </view>
    <view class="{{selected1?'show':'hidden'}}">Â∞öÂú®ÂºÄÂèë‰∏≠</view>

  </view>
</view>